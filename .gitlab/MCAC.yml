build-Debug:
  stage: Build
  script:
    - pwd
    - ls -l
    - mkdir build
    - cd build
    - cmake -DWITH_SBL=OFF -DCMAKE_BUILD_TYPE=Debug -DDEBUG_MCAC=ON -DWITH_PYTHON=OFF .. 
    - make -j
  artifacts:
    paths:
      - bin/Debug/MCAC
      - ext_bin

build-Release:
  stage: Build
  script:
    - pwd
    - ls -l
    - mkdir build
    - cd build
    - cmake -DWITH_SBL=OFF -DCMAKE_BUILD_TYPE=Release -DDEBUG_MCAC=ON -DWITH_PYTHON=OFF ..
    - make -j
  artifacts:
    paths:
      - bin/Release/MCAC
      - ext_bin

cpplint:
  stage: Static Analysis
  script:
    - apt update
    - apt-get install -y cpplint
    - cpplint --recursive src include
  only:
    changes:
      - src/**/*
      - include/**/*
  needs: []


cppcheck:
  stage: Static Analysis
  script:
    - apt update
    - apt-get install -y cppcheck
    - cppcheck --enable=all --inconclusive -I include src
  only:
    changes:
      - src/**/*
      - include/**/*
  needs: []


# clang-check clang-format
